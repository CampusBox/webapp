<div class="main-bg">
    <div layout="row" ng-init="width=23">
        <md-button ng-init="filters=false" ng-click="filters=!filters" hide-gt-xs class="md-mini" aria-label="filters">
            <md-icon md-svg-icon="filter-outline"></md-icon>
            Filters</md-button>
        <div flex></div>
    </div>
    <div layout-gt-sm="row" layout="column" layout-align-gt-xs="start start" layout-align-xs="center strech">
        <md-card hide-gt-sm flex-xs="100" ng-show="filters">
            <md-card-content flex layout="column" layout-align="space-between">
                <md-input-container>
                    <md-icon md-svg-icon="filter-outline"></md-icon>
                    <md-select ng-model="filter.type" placeholder="Choose a type" class="md-no-underline">
                        <md-optgroup label="Type">
                            <md-option ng-value="type.id" ng-model="filter.type" ng-repeat="type in types | orderBy">{{type.title}}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <md-icon md-svg-icon="currency-inr"></md-icon>
                    <md-select ng-model="filter.fees" placeholder="Event Fees" class="md-no-underline">
                        <md-optgroup label="Entry Fees">
                            <md-option ng-value="type" ng-repeat="type in ['All','Free','Paid'] | orderBy">{{ type }}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <md-icon md-svg-icon="calendar"></md-icon>
                    <md-select ng-model="filter.time" placeholder="Choose Timings" class="md-no-underline">
                        <md-optgroup label="Time">
                            <md-option ng-value="time.id" ng-repeat="time in timings| orderBy">{{ time.title }}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <md-icon md-svg-icon="domain"></md-icon>
                    <md-select ng-model="filter.college" aria-label="search" md-on-close="clearSearchTerm()" placeholder="College" class="md-no-underline" data-md-container-class="selectdemoSelectHeader">
                        <md-optgroup label="College">
                            <md-option ng-value="college.id" ng-repeat="college in colleges | orderBy ">{{ college.title }}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-button class="md-primary md-raised" ng-click="filters=!filters;showAdvanced()">Apply filters</md-button>
            </md-card-content>
        </md-card>
        <md-card flex-gt-sm="20" hide-xs hide-sm flex="100">
            <md-card-content flex layout="column" layout-align="space-between">
                <md-input-container>
                    <md-icon md-svg-icon="filter-outline"></md-icon>
                    <md-select ng-model="filter.type" placeholder="Choose a type" class="md-no-underline">
                        <md-optgroup label="Type">
                            <md-option ng-value="type.id" ng-model="filter.type" ng-repeat="type in types | orderBy">{{type.title}}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <md-icon md-svg-icon="currency-inr"></md-icon>
                    <md-select ng-model="filter.fees" placeholder="Event Fees" class="md-no-underline">
                        <md-optgroup label="Entry Fees">
                            <md-option ng-value="type" ng-repeat="type in ['All','Free','Paid'] | orderBy">{{ type }}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <md-icon md-svg-icon="calendar"></md-icon>
                    <md-select ng-model="filter.time" placeholder="Choose Timings" class="md-no-underline">
                        <md-optgroup label="Time">
                            <md-option ng-value="time.id" ng-repeat="time in timings| orderBy">{{ time.title }}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-input-container>
                    <md-icon md-svg-icon="domain"></md-icon>
                    <md-select ng-model="filter.college" aria-label="search" md-on-close="clearSearchTerm()" placeholder="College" class="md-no-underline" data-md-container-class="selectdemoSelectHeader">
                        <md-optgroup label="College">
                            <md-option ng-value="college.id" ng-repeat="college in colleges | orderBy ">{{ college.title }}</md-option>
                        </md-optgroup>
                    </md-select>
                </md-input-container>
                <md-button class="md-primary md-raised" ng-click="filters=!filters;applyFilters(filter);">Apply filters</md-button>
            </md-card-content>
        </md-card>
        <div hide-xs layout="column" flex-offset-gt-sm="{{grid?0:5}}" flex-gt-sm="{{grid?80:60}}">
            <md-list ng-show="!grid">
                <md-list-item style="margin-bottom: 10px;" ng-repeat="event in events" ui-sref="home.singleEvent({eventId: event.id})" class="secondary-button-padding eventListItem">
                    <md-card flex>
                        <p hide-gt-sm class="md-title" style="font-weight: 600;margin: 0px;padding-left: 12px">
                            {{event.title | limitTo : 30}}
                        </p>
                        <md-card-title style="padding: 0px;">
                            <div class="md-media-sm" layout="column" layout-align="center" flex-gt-xs="25" flex-xs="30">
                                <img style="width: 100% ;" ng-src="{{event.image}}" alt="">
                            </div>
                            <div style="padding:  5px 0px 0px 12px;" flex layout="column">
                                <span hide-xs hide-sm style="margin-top: 0px; color: #555555;text-align: right;margin-right: 28px;" class="md-body-2">{{event.timings.from.date | date: ' d MMM'}} - {{event.timings.to.date==event.timings.from.date?null:event.timings.to.date | date: ' d MMM'}} </span>
                                <p hide-xs hide-sm class="md-title" style="font-weight: 600;margin: 0px; margin-top: -15px;">
                                    {{event.title | limitTo : 30}}
                                </p>
                                <p style="margin-top: 0px; color: #555555;width: 85%" class="md-body-2">
                                    {{event.subtitle?event.subtitle:"We will showcase all the features of CampusBox ver 0.1.3 and give away goodies to everyone" | limitTo : 100}}
                                </p>
                                <div flex></div>
                                <md-card-actions layout="row" layout-align="start center">
                                    <span hide-gt-sm style="margin-top: 0px; color: #555555;text-align: right;margin-right: 28px;" class="md-body-2">{{event.timings.from.date | date: ' d MMM'}} {{event.timings.to.date==event.timings.from.date?null:event.timings.to.date | date: ' d MMM'}} </span>
                                    <p hide-xs style="margin:0;color:#555555" class="md-caption">{{event.details.venue}}</p>
                                    <span flex></span>
                                    <md-button hide-xs class="appriciate-button" ng-click="heartEvent(event, $index)" aria-label="Favorite">
                                        <md-icon class="pink" md-svg-icon="{{event.Actions.Bookmarked.status? 'heart' : 'heart-outline' }}"></md-icon> {{event.Actions.Bookmarked.status? 'Appreciated' : 'Appreciate' }}
                                    </md-button>
                                    <md-button hide-xs class="rsvp-button" ng-class="(event.Actions.Participants.status)? 'md-raised md-primary' : ''" ng-click="rsvpEvent(event, $index)" aria-label="Favorite">
                                        <md-icon ng-class="(event.Actions.Participants.status)? '':'blue'" md-svg-icon="{{!event.Actions.Participants.status? 'account-check' : 'plus-one' }}"></md-icon> {{!event.Actions.Participants.status? 'attending' : 'RSVP' }}
                                    </md-button>
                                </md-card-actions>
                            </div>
                        </md-card-title>
                        <center hide-gt-xs style="margin:0;color:#555555" class="md-caption">
                            {{event.details.venue}}</center>
                        <div layout="row">
                            <md-button flex hide-gt-xs class="appriciate-button" ng-click="heartEvent(event, $index)" aria-label="Favorite">
                                <md-icon class="pink" md-svg-icon="{{event.Actions.Bookmarked.status? 'heart' : 'heart-outline' }}"></md-icon> {{event.Actions.Bookmarked.status? 'Appreciated' : 'Appreciate' }}
                            </md-button>
                            <md-button flex hide-gt-xs class="rsvp-button" ng-class="(event.Actions.Participants.status)? 'md-raised md-primary' : ''" ng-click="rsvpEvent(event, $index)" aria-label="Favorite">
                                <md-icon ng-class="(event.Actions.Participants.status)? '':'blue'" md-svg-icon="{{!event.Actions.Participants.status? 'account-check' : 'plus-one' }}"></md-icon> {{!event.Actions.Participants.status? 'attending' : 'RSVP' }}
                            </md-button>
                        </div>
                    </md-card>
                </md-list-item>
            </md-list>
            <div infinite-scroll="myPagingFunction();" infinite-scroll-disabled='loading' infinite-scroll-distance="4">
            </div>
            <md-list ng-show="!grid">
                <md-list-item ng-show="loading" flex style="margin-bottom: 15px;" ng-repeat="event in [1,2]" class="secondary-button-padding eventListItem">
                    <md-card flex>
                        <md-card-title style="padding: 0px;">
                            <div class="md-media-sm" style="width: 150px;height:150px; background-color: #eee">
                                <img class="" style="width: 150px;height:150px;background-color: #f1f1f1" alt="">
                            </div>
                            <div style="padding:  14px 23px 0px 33px;" flex layout="column">
                                <p class="animated-background" style="margin-top: 0px;">Date · Time </p>
                                <br>
                                <p class="md-title animated-background" style="font-weight: 600;margin: 0px; background-color: #eee;color: transparent;">
                                    CampusBox launch
                                </p>
                                <p style="margin:0;background-color: #eee;color: transparent;" class="md-caption animated-background">Main Auditorium, Thapar University</p>
                            </div>
                        </md-card-title>
                    </md-card>
                </md-list-item>
            </md-list>
        </div>
        <div show-xs layout="column" flex-offset-gt-sm="{{grid?0:5}}" flex-gt-sm="{{grid?80:60}}">
            <md-list ng-show="!grid">
                <md-list-item style="margin-bottom: 10px;" ng-repeat="event in events" ui-sref="home.singleEvent({eventId: event.id})" class="secondary-button-padding eventListItem">
                    <md-card flex>
                        <md-card-title>
                            <md-card-title-media style="margin-top: -19px; margin-left: -12px;">
                                <div class="md-media-lg card-media">
                                    <img style="width: 100% ;" ng-src="{{event.image}}" alt="">
                                </div>
                            </md-card-title-media>
                            <md-card-title-text style="margin-top: -15px; padding-left: 5px;height: 152px">
                                <p hide-gt-sm class="md-title" style="font-weight: 600;margin: 0px;padding-left: 12px">
                                    {{event.title | limitTo : 30}}
                                </p>
                                <p style="margin-top: 0px; color: #555555;overflow: hidden;" class="md-body-2">
                                    {{event.subtitle| limitTo : 100}}
                                </p>
                                <p style="margin:0;color:#555555; height: 36px; min-height: 36px; overflow: hidden;" class="md-caption">
                                <md-icon md-svg-icon="map-marker"></md-icon>
                                {{event.details.venue}}</p>
                            </md-card-title-text>
                        </md-card-title>
                        <md-divider></md-divider>
                        <md-card-actions style="margin-top:-10px; " layout="row" layout-align="end center">
                            <!-- <div layout="row" layout-align="start center"> -->
                                <md-button flex class="appriciate-button" ng-click="heartEvent(event, $index)" aria-label="Favorite">
                                    <md-icon class="pink" md-svg-icon="{{event.Actions.Bookmarked.status? 'heart' : 'heart-outline' }}"></md-icon> {{event.Actions.Bookmarked.status? 'Appreciated' : 'Appreciate' }}
                                </md-button>
                                <span flex></span>
                                <md-button flex class="rsvp-button" ng-class="(event.Actions.Participants.status)? 'md-raised md-primary' : ''" ng-click="rsvpEvent(event, $index)" aria-label="Favorite">
                                    <md-icon ng-class="(event.Actions.Participants.status)? '':'blue'" md-svg-icon="{{!event.Actions.Participants.status? 'account-check' : 'plus-one' }}"></md-icon> {{!event.Actions.Participants.status? 'attending' : 'RSVP' }}
                                </md-button>
                            <!-- </div> -->
                        </md-card-actions>
                    </md-card>
                </md-list-item>
            </md-list>
            <div infinite-scroll="myPagingFunction();" infinite-scroll-disabled='loading' infinite-scroll-distance="4">
            </div>
            <md-list ng-show="!grid">
                <md-list-item ng-show="loading" flex style="margin-bottom: 15px;" ng-repeat="event in [1,2]" class="secondary-button-padding eventListItem">
                    <md-card flex>
                        <md-card-title style="padding: 0px;">
                            <div class="md-media-sm" style="width: 150px;height:150px; background-color: #eee">
                                <img class="" style="width: 150px;height:150px;background-color: #f1f1f1" alt="">
                            </div>
                            <div style="padding:  14px 23px 0px 33px;" flex layout="column">
                                <p class="animated-background" style="margin-top: 0px;">Date · Time </p>
                                <br>
                                <p class="md-title animated-background" style="font-weight: 600;margin: 0px; background-color: #eee;color: transparent;">
                                    CampusBox launch
                                </p>
                                <p style="margin:0;background-color: #eee;color: transparent;" class="md-caption animated-background">Main Auditorium, Thapar University</p>
                            </div>
                        </md-card-title>
                    </md-card>
                </md-list-item>
            </md-list>
        </div>
    </div>
</div>
