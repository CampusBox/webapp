<div layout="column" layout-fill class="main-bg">
    <div flex layout="row" layout-wrap layout-align="center center">
        <div class="white-bg md-whiteframe-z1" flex-gt-sm="60" flex="100" >
            <md-input-container style="padding-left: 30px;min-width: 30%">
                <label>Type of creativity</label>
                <md-select ng-model="selectedtypes" md-on-close="clearSearchTerm()" data-md-container-class="selectdemoSelectHeader" multiple>
                    <md-select-header class="demo-select-header">
                        <input md-autofocus ng-model="searchTerm" type="search" placeholder="Search for a type.." class="demo-header-searchbox ">
                    </md-select-header>
                    <md-optgroup label="types">
                        <md-option ng-value="type.id" ng-repeat="type in types | filter:searchTerm">{{type.title}}</md-option>
                    </md-optgroup>
                </md-select>
            </md-input-container>
        </div>
        <div flex="20">
        </div>
    </div>
    <div flex layout="row" layout-wrap layout-align="center center" ng-repeat="content in finalContents track by $index">
        <md-card flex-gt-sm="60" flex="100">
            <md-card-header>
                <md-card-avatar>
                    <img class="md-user-avatar" ui-sref="home.profile({username: content.created.by.username})" ng-src="{{content.created.by.image}}" />
                </md-card-avatar>
                <md-card-header-text ui-sref="home.singleContent({contentId: content.id})" style="cursor: pointer">
                    <span class="md-subhead "><span class="capitalize blue_text"  ng-click="openProfile($event, content.created.by.username);" >{{content.created.by.name}} </span> in <span class="blue_text">{{content.type?content.type:"Article"}} </span></span>
                    <span class="md-title">{{content.created.at  | date: 'd MMM'}}</span>
                </md-card-header-text>
            </md-card-header>
            <a ng-if="(content.type == 'cover' || content.type == 'image')" ui-sref="home.singleContent({contentId: content.id})">
                <img class="creativity-cover" alt="" ng-src="{{content.url}}">
            </a>
            <a ng-if="(content.type == 'youtube')" ui-sref="home.singleContent({contentId: content.id})">
                <img style="background:url('https://img.youtube.com/vi/{{content.url}}/maxresdefault.jpg');object-fit: cover;background-size: cover;background-position: center;" class="creativity-cover" alt="">
            </a>
            <md-card-content style="padding-bottom: 0px">
                <div ng-if="(content.type == 'vimeo') || (content.type == 'soundcloud') " layout-align="center center">
                    <!-- <iframe ng-show="(content.type == 'youtube')" width="100%" height="315" ng-src="{{content.url}}" frameborder="0" allowfullscreen></iframe> -->
                    <iframe ng-show="(content.type == 'soundcloud')" width="100%" height="166" scrolling="no" frameborder="0" ng-src="{{content.url}}" allowfullscreen></iframe>
                    <iframe ng-show="(content.type == 'vimeo')" width="640" height="360" ng-src="{{content.url}}" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
                </div>
                <!-- <div flex="80" flex-offset="10"> -->
                <a ui-sref="home.singleContent({contentId: content.id})" style="text-decoration: none;">
                    <span class="creativity-title" ng-bind-html="content.title"></span>
                </a>
                <p class="creativity-description creativity-description-list" ui-sref="home.singleContent({contentId: content.id})" style="cursor: pointer" ng-bind-html="content.description  | limitTo: 200">
                </p>
                <p ui-sref="home.singleContent({contentId: content.id})" class="md-subhead read-more">
                    Read more...
                </p>
                <!-- </div> -->
            </md-card-content>
            <div layout="row" layout-align="start center">
                <md-button class="appriciate-button" style="text-transform: capitalize;" ng-click="heart(content, $index)" aria-label="Favorite" title="Recommend to share this article with your followers and let the author know you liked it">
                    <md-icon class="pink" md-svg-icon="{{content.Actions.Appriciate.status? 'heart' : 'heart-outline' }}"></md-icon> {{content.Actions.Appriciate.status? 'Appreciated' : 'Appreciate' }} |
                    <span> {{content.Actions.Appriciate.total}}</span>
                </md-button>
                <span flex></span>
                <md-card-icon-actions>
                    <md-button class="md-icon-button" ng-click="bookmark(content, $index)" aria-label="Favorite">
                        <md-icon ng-class="content.Actions.Bookmarked.status? 'grey':''" md-svg-icon="{{content.Actions.Bookmarked.status? 'bookmark' : 'bookmark-outline' }}"></md-icon>
                    </md-button>
                    <!-- <md-button class="" aria-label="toggle">
                        <md-icon md-svg-icon="share"></md-icon>Share
                    </md-button> -->
                </md-card-icon-actions>
            </div>
        </md-card>
        <div flex="20">
        </div>
    </div>
    <div infinite-scroll="myPagingFunction() " infinite-scroll-disabled='creativityLoading' infinite-scroll-distance="4 ">
    </div>
    <div flex layout="row" layout-wrap layout-align="center center" ng-repeat="content in [1,2]">
        <md-card ng-if="creativityLoading" flex="100" flex-gt-sm="60">
            <md-card-header>
                <md-card-avatar style="background: #f6f7f8">
                    <img class="md-user-avatar" />
                </md-card-avatar>
                <md-card-header-text>
                    <span style="width: 30%" class=" animated-background">Anything here  </span>
                </md-card-header-text>
            </md-card-header>
            <span class="md-headline animated-background" flex="90" flex-offset="10" style="padding: 40px; margin-bottom: 50px">and again</span>
        </md-card>
        <div flex="20">
        </div>
    </div>
</div>
